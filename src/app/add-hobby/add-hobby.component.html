<my-header></my-header>
<div class="container">


    <form [formGroup]="addHobby" (ngSubmit)="submitForm()">
        <a routerLink='' class="button-back">&larr; Назад</a>
        <md-input-container class="form-item-course-name">
            <input mdInput placeholder="Название курса" [formControl]="addHobby.controls['name']">
        </md-input-container>
        
        <div class="photos">
            <div class="main-image">
                <div (click)="removeImage(0)" *ngIf="fileData[0]" class="delete-image-button"></div>
                <label  class="main-input-design">
                    <div class="main-wrapper" [ngClass]="{'cover': fileData[0]}">
                        <img [src]="fileData[0] ? fileData[0] : 'img/fallback.jpg'" alt="" class="main-preview">
                    </div>
                    <input (change)="addImage($event, 0, true)" [disabled]="fileNames[0]" type="file"  id="input-0" class="add-image-input" accept=".png,.jpg,.jpeg">
                    <input type="hidden" [formControl]="addHobby.controls['image0']">
                </label>
            </div>

            <div *ngIf="fileNames[0] || fileNames[1] || fileNames[2] || fileNames[3]" class="secondary-image-1">
                <div (click)="removeImage(1)" *ngIf="fileData[1]" class="delete-image-button"></div>                
                <label class="secondary-input-design">
                    <div class="secondary-wrapper" [ngClass]="{'cover': fileData[1]}">
                        <img [src]="fileData[1] ? fileData[1] : 'img/fallback.jpg'" alt="" class="secondary-preview">
                    </div>
                    <input (change)="addImage($event, 1, false)" [disabled]="fileNames[1]" type="file" id="input-1" class="add-image-input" accept=".png,.jpg,.jpeg">
                    <input type="hidden" [formControl]="addHobby.controls['image1']">
                </label>
            </div>

            <div *ngIf="fileNames[1] || fileNames[3] || fileNames[2]" class="secondary-image-2">
                <div (click)="removeImage(2)" *ngIf="fileData[2]" class="delete-image-button"></div>
                <label  class="secondary-input-design">
                    <div class="secondary-wrapper" [ngClass]="{'cover': fileData[2]}">
                        <img [src]="fileData[2] ? fileData[2] : 'img/fallback.jpg'" alt="" class="secondary-preview">
                    </div>
                    <input (change)="addImage($event, 2, false)" [disabled]="fileNames[2]" type="file" id="input-2" class="add-image-input" accept=".png,.jpg,.jpeg">
                    <input type="hidden" [formControl]="addHobby.controls['image2']">
                </label>
            </div>
            
            <div *ngIf="fileNames[2] || fileNames[3]" class="secondary-image-3">
                <div (click)="removeImage(3)" *ngIf="fileData[3]" class="delete-image-button"></div>
                <label class="secondary-input-design">
                    <div class="secondary-wrapper" [ngClass]="{'cover': fileData[3]}">
                        <img [src]="fileData[3] ? fileData[3] : 'img/fallback.jpg'" alt="" class="secondary-preview">
                    </div>
                    <input (change)="addImage($event, 3, false)" [disabled]="fileNames[3]" type="file" id="input-3" class="add-image-input" accept=".png,.jpg,.jpeg">
                    <input type="hidden" [formControl]="addHobby.controls['image3']">
                </label>
            </div>
        </div>

        <div class='form-right'>
            <md-input-container class="form-item-organizer">
                <input mdInput placeholder="Организатор" [formControl]="addHobby.controls['organizerName']">
            </md-input-container>
            <md-select class="form-item-cities" placeholder="Город" floatPlaceholder="never" [formControl]="addHobby.controls['cityId']">
                <md-option *ngFor="let city of cities" [value]="city.Id">{{ city.Name }}</md-option>
            </md-select>
            <md-input-container class="form-item-age-from">
                <input mdInput placeholder="Возраст От" myOnlyNumber maxlength="3" [formControl]="addHobby.controls['ageFrom']">
            </md-input-container>
            <md-input-container class="form-item-age-to">
                <input mdInput placeholder="До" myOnlyNumber maxlength="3" [formControl]="addHobby.controls['ageTo']">
            </md-input-container>
            <md-select class="form-item-interests" placeholder="Интересы" floatPlaceholder="never" [formControl]="addHobby.controls['interestId']">
                <md-option *ngFor="let interest of interests" [value]="interest.Id">{{ interest.Name }}</md-option>
            </md-select>
            <md-input-container class="form-item-phones">
                <textarea mdInput rows="3" placeholder="Телефоны" [formControl]="addHobby.controls['phones']"></textarea>
            </md-input-container>
            <md-input-container class="form-item-address">
                <textarea mdInput rows="3" placeholder="Адрес" [formControl]="addHobby.controls['address']"></textarea>
            </md-input-container>
            <md-input-container class="form-item-price">
                <input mdInput placeholder="Цены" [formControl]="addHobby.controls['prices']">
            </md-input-container>
            <md-checkbox color="primary" class="form-item-free-checkbox" [formControl]="addHobby.controls['free']">Бесплатно</md-checkbox>
        </div>

        <div class='form-bottom'>
            <md-input-container class="form-item-description">
                <textarea mdInput rows="10" placeholder="Подробное описание" [formControl]="addHobby.controls['description']"></textarea>
            </md-input-container>
            <md-input-container class="form-item-guides">
                <textarea mdInput rows="3" placeholder="Ведущие" [formControl]="addHobby.controls['mentor']"></textarea>
            </md-input-container>
            <md-checkbox color="primary" class="form-item-sobriety-checkbox" [formControl]="addHobby.controls['sobriety']">Преподаватели не пьют и не курят</md-checkbox>
            <button [disabled]="!addHobby.valid" type="submit" md-raised-button color="primary" class="button-publish">ОПУБЛИКОВАТЬ</button>
            <!--routerLink='/addhobby/success'-->
        </div>
    </form>
</div>
